<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Mon Dec  4 12:30:26 2023 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>TOWER.PY</title>

</head>
<body>

<h1 align="center">TOWER.PY</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#POSITIONAL ARGUMENTS">POSITIONAL ARGUMENTS</a><br>
<a href="#COMMAND &rsquo;tower.py provision&rsquo;">COMMAND &rsquo;tower.py provision&rsquo;</a><br>
<a href="#OPTIONS &rsquo;tower.py provision&rsquo;">OPTIONS &rsquo;tower.py provision&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py upgrade&rsquo;">COMMAND &rsquo;tower.py upgrade&rsquo;</a><br>
<a href="#OPTIONS &rsquo;tower.py upgrade&rsquo;">OPTIONS &rsquo;tower.py upgrade&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py install&rsquo;">COMMAND &rsquo;tower.py install&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py run&rsquo;">COMMAND &rsquo;tower.py run&rsquo;</a><br>
<a href="#OPTIONS &rsquo;tower.py run&rsquo;">OPTIONS &rsquo;tower.py run&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py status&rsquo;">COMMAND &rsquo;tower.py status&rsquo;</a><br>
<a href="#OPTIONS &rsquo;tower.py status&rsquo;">OPTIONS &rsquo;tower.py status&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py wlan&minus;connect&rsquo;">COMMAND &rsquo;tower.py wlan&minus;connect&rsquo;</a><br>
<a href="#OPTIONS &rsquo;tower.py wlan&minus;connect&rsquo;">OPTIONS &rsquo;tower.py wlan&minus;connect&rsquo;</a><br>
<a href="#COMMAND &rsquo;tower.py version&rsquo;">COMMAND &rsquo;tower.py version&rsquo;</a><br>
<a href="#OPTIONS">OPTIONS</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">tower.py</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>tower.py</b>
[-h] [--quiet] [--verbose]
{provision,upgrade,install,run,status,wlan-connect,version}
...</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">TowerOS
command&minus;line interface for provisioning hosts, install
APK packages on it and run applications with NX
protocol.</p>

<h2>POSITIONAL ARGUMENTS
<a name="POSITIONAL ARGUMENTS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>tower.py</b>
<i>provision</i></p>

<p style="margin-left:22%;">Prepare the bootable device
needed to provision a host.</p>

<p style="margin-left:11%;"><b>tower.py</b>
<i>upgrade</i></p>

<p style="margin-left:22%;">Prepare the boot device needed
to upgrade a host.</p>

<p style="margin-left:11%;"><b>tower.py</b>
<i>install</i></p>

<p style="margin-left:22%;">Install an application on a
host with APK</p>

<p style="margin-left:11%;"><b>tower.py</b> <i>run</i></p>

<p style="margin-left:22%;">Run an application on the
specified host, with the GUI on the thin client.</p>

<p style="margin-left:11%;"><b>tower.py</b>
<i>status</i></p>

<p style="margin-left:22%;">Check the status of all hosts
in the Tower system.</p>

<p style="margin-left:11%;"><b>tower.py</b>
<i>wlan&minus;connect</i></p>

<p style="margin-left:22%;">Command used to update WiFi
credentials on the router.</p>

<p style="margin-left:11%;"><b>tower.py</b>
<i>version</i></p>

<p style="margin-left:22%;">Get the version of TowerOS
installed on the thin client and hosts.</p>

<h2>COMMAND &rsquo;tower.py provision&rsquo;
<a name="COMMAND &rsquo;tower.py provision&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
provision [&minus;h] [&minus;bd BOOT_DEVICE]
[&minus;&minus;zero&minus;device]
[&minus;&minus;no&minus;confirm] [&minus;&minus;image IMAGE]
[&minus;&minus;ifname IFNAME] [&minus;&minus;no&minus;wait]
<br>
[&minus;&minus;timeout TIMEOUT] [&minus;&minus;force]
[&minus;&minus;public&minus;key&minus;path PUBLIC_KEY_PATH]
[&minus;&minus;private&minus;key&minus;path
PRIVATE_KEY_PATH] <br>
[&minus;&minus;keyboard&minus;layout KEYBOARD_LAYOUT]
[&minus;&minus;keyboard&minus;variant KEYBOARD_VARIANT]
[&minus;&minus;timezone TIMEZONE] [&minus;&minus;lang LANG]
<br>
[&minus;&minus;online] [&minus;&minus;offline]
[&minus;&minus;wlan&minus;ssid WLAN_SSID]
[&minus;&minus;wlan&minus;password WLAN_PASSWORD] <br>
[&minus;&minus;color
{White,Red,Green,Yellow,Blue,Magenta,Cyan,Light gray,Light
red,Light green,Light yellow,Light blue,Light magenta,Light
cyan}] <br>
name</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>name</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Host&rsquo;s name, used to refer to the host when
performing other actions (Required)</p></td></tr>
</table>

<h2>OPTIONS &rsquo;tower.py provision&rsquo;
<a name="OPTIONS &rsquo;tower.py provision&rsquo;"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;bd</b>
<i>BOOT_DEVICE</i>, <b>&minus;&minus;boot&minus;device</b>
<i>BOOT_DEVICE</i></p>

<p style="margin-left:22%;">Path to virtual device for the
SD card or USB drive</p>


<p style="margin-left:11%;"><b>&minus;&minus;zero&minus;device</b></p>

<p style="margin-left:22%;">Zero the target device before
copying the installation image to it. (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;confirm</b></p>

<p style="margin-left:22%;">Don&rsquo;t ask for
confirmation. (Default: False)</p>

<p style="margin-left:11%;"><b>&minus;&minus;image</b>
<i>IMAGE</i></p>

<p style="margin-left:22%;">Path to installation image</p>

<p style="margin-left:11%;"><b>&minus;&minus;ifname</b>
<i>IFNAME</i></p>

<p style="margin-left:22%;">Network interface (Default:
&lsquo;eth0&lsquo; for online host, &lsquo;eth1&lsquo; for
offline host)</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;wait</b></p>

<p style="margin-left:22%;">Do not wait for the host to be
ready (Default: False)</p>

<p style="margin-left:11%;"><b>&minus;&minus;timeout</b>
<i>TIMEOUT</i></p>

<p style="margin-left:22%;">Maximum wait time for the host
to be ready, in seconds. Specify &lsquo;0&lsquo; for no
limit. (Default: 600)</p>

<p style="margin-left:11%;"><b>&minus;&minus;force</b></p>

<p style="margin-left:22%;">Overwrite the configuration for
an existing host (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;public&minus;key&minus;path</b>
<i>PUBLIC_KEY_PATH</i></p>

<p style="margin-left:22%;">Path to public key used to
access the host (Default: automatically generated and stored
on the boot device and locally in
&lsquo;~/.local/tower/hosts/&lsquo;)</p>


<p style="margin-left:11%;"><b>&minus;&minus;private&minus;key&minus;path</b>
<i>PRIVATE_KEY_PATH</i></p>

<p style="margin-left:22%;">Path to private key used to
access the host (Default: automatically generated and stored
locally in &lsquo;~/.local/tower/hosts/&lsquo;)</p>


<p style="margin-left:11%;"><b>&minus;&minus;keyboard&minus;layout</b>
<i>KEYBOARD_LAYOUT</i></p>

<p style="margin-left:22%;">Keyboard layout code (Default:
same as that of the thin client)</p>


<p style="margin-left:11%;"><b>&minus;&minus;keyboard&minus;variant</b>
<i>KEYBOARD_VARIANT</i></p>

<p style="margin-left:22%;">Keyboard variant code (Default:
same as that of the thin client)</p>

<p style="margin-left:11%;"><b>&minus;&minus;timezone</b>
<i>TIMEZONE</i></p>

<p style="margin-left:22%;">Timezone of the host. e.g.
&lsquo;Europe/Paris&lsquo; (Default: same as that of the
thin client)</p>

<p style="margin-left:11%;"><b>&minus;&minus;lang</b>
<i>LANG</i></p>

<p style="margin-left:22%;">Language of the host. e.g.
&lsquo;en_US&lsquo; (Default: same as that of the thin
client)</p>


<p style="margin-left:11%;"><b>&minus;&minus;online</b></p>

<p style="margin-left:22%;">Host *WILL* be able to access
the Internet via the router. (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;offline</b></p>

<p style="margin-left:22%;">Host will *NOT* be able to
access the Internet via the router. (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;wlan&minus;ssid</b>
<i>WLAN_SSID</i></p>

<p style="margin-left:22%;">WiFi SSID (Default: same as
that currently in use by the thin client)</p>


<p style="margin-left:11%;"><b>&minus;&minus;wlan&minus;password</b>
<i>WLAN_PASSWORD</i></p>

<p style="margin-left:22%;">WiFi password (Default: same as
that currently currently in use by the thin client)</p>

<p style="margin-left:11%;"><b>&minus;&minus;color</b>
<i>{White,Red,Green,Yellow,Blue,Magenta,Cyan,Light
gray,Light <br>
red,Light green,Light yellow,Light blue,Light magenta,Light
cyan}</i></p>

<p style="margin-left:22%;">Color used for shell prompt and
GUI. (Default: sequentially from the list, next: Blue)</p>

<h2>COMMAND &rsquo;tower.py upgrade&rsquo;
<a name="COMMAND &rsquo;tower.py upgrade&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
upgrade [&minus;h] [&minus;bd BOOT_DEVICE]
[&minus;&minus;zero&minus;device]
[&minus;&minus;no&minus;confirm] [&minus;&minus;image IMAGE]
[&minus;&minus;ifname IFNAME] [&minus;&minus;no&minus;wait]
[&minus;&minus;timeout TIMEOUT] <br>
[&minus;&minus;force] <br>
name</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="6%">


<p><b>name</b></p></td>
<td width="5%"></td>
<td width="78%">


<p>Host&rsquo;s name, used to refer to the host when
performing other actions (Required)</p></td></tr>
</table>

<h2>OPTIONS &rsquo;tower.py upgrade&rsquo;
<a name="OPTIONS &rsquo;tower.py upgrade&rsquo;"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;bd</b>
<i>BOOT_DEVICE</i>, <b>&minus;&minus;boot&minus;device</b>
<i>BOOT_DEVICE</i></p>

<p style="margin-left:22%;">Path to virtual device for the
SD card or USB drive</p>


<p style="margin-left:11%;"><b>&minus;&minus;zero&minus;device</b></p>

<p style="margin-left:22%;">Zero the target device before
copying the installation image to it. (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;confirm</b></p>

<p style="margin-left:22%;">Don&rsquo;t ask for
confirmation. (Default: False)</p>

<p style="margin-left:11%;"><b>&minus;&minus;image</b>
<i>IMAGE</i></p>

<p style="margin-left:22%;">Path to installation image</p>

<p style="margin-left:11%;"><b>&minus;&minus;ifname</b>
<i>IFNAME</i></p>

<p style="margin-left:22%;">Network interface (Default:
&lsquo;eth0&lsquo; for online host, &lsquo;eth1&lsquo; for
offline host)</p>


<p style="margin-left:11%;"><b>&minus;&minus;no&minus;wait</b></p>

<p style="margin-left:22%;">Do not wait for the host to be
ready (Default: False)</p>

<p style="margin-left:11%;"><b>&minus;&minus;timeout</b>
<i>TIMEOUT</i></p>

<p style="margin-left:22%;">Maximum wait time for the host
to be ready, in seconds. Specify &lsquo;0&lsquo; for no
limit. (Default: 600)</p>

<p style="margin-left:11%;"><b>&minus;&minus;force</b></p>

<p style="margin-left:22%;">Overwrite the configuration for
an existing host (Default: False)</p>

<h2>COMMAND &rsquo;tower.py install&rsquo;
<a name="COMMAND &rsquo;tower.py install&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
install [&minus;h] host_name packages [packages ...] <b><br>
host_name</b></p>

<p style="margin-left:22%;">Host to install the package on
(Required)</p>

<p style="margin-left:11%;"><b>packages</b></p>

<p style="margin-left:22%;">Package(s) to install
(Required).</p>

<h2>COMMAND &rsquo;tower.py run&rsquo;
<a name="COMMAND &rsquo;tower.py run&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
run [&minus;h] [&minus;&minus;nx&minus;link NX_LINK]
[&minus;&minus;nx&minus;limit NX_LIMIT]
[&minus;&minus;nx&minus;images NX_IMAGES]
[&minus;&minus;nx&minus;cache NX_CACHE] <br>
[&minus;&minus;nx&minus;stream {0,1,2,3,4,5,6,7,8,9}]
[&minus;&minus;nx&minus;data {0,1,2,3,4,5,6,7,8,9}]
[&minus;&minus;nx&minus;delta {0,1}] [&minus;&minus;waypipe]
<br>
[&minus;&minus;wp&minus;compress WP_COMPRESS]
[&minus;&minus;wp&minus;threads WP_THREADS]
[&minus;&minus;wp&minus;video WP_VIDEO] <br>
host_name run_command [run_command ...] <b><br>
host_name</b></p>

<p style="margin-left:22%;">Host&rsquo;s name. This name
must match the &lsquo;name&lsquo; used with the
&lsquo;provision&lsquo; command. (Required)</p>

<p style="margin-left:11%;"><b>run_command</b></p>

<p style="margin-left:22%;">Command to execute on the host
with NX protocol. (Required)</p>

<h2>OPTIONS &rsquo;tower.py run&rsquo;
<a name="OPTIONS &rsquo;tower.py run&rsquo;"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;nx&minus;link</b>
<i>NX_LINK</i></p>

<p style="margin-left:22%;">The value can be either
&rsquo;modem&rsquo;, &rsquo;isdn&rsquo;, &rsquo;adsl&rsquo;,
&rsquo;wan&rsquo;, &rsquo;lan&rsquo;, &rsquo;local&rsquo; or
a bandwidth specification, like for example
&rsquo;56k&rsquo;, &rsquo;1m&rsquo;, &rsquo;100m&rsquo;</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;limit</b>
<i>NX_LIMIT</i></p>

<p style="margin-left:22%;">Specify a bitrate limit allowed
for this session. (Default: 0)</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;images</b>
<i>NX_IMAGES</i></p>

<p style="margin-left:22%;">Size of the persistent image
cache. (Default: 512M)</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;cache</b>
<i>NX_CACHE</i></p>

<p style="margin-left:22%;">Size of the in&minus;memory X
message cache. Setting the value to 0 will disable the
memory cache as well as the NX differential compression.
(Default: 1G)</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;stream</b>
<i>{0,1,2,3,4,5,6,7,8,9}</i></p>

<p style="margin-left:22%;">Enable or disable the ZLIB
stream compression. The value must be between 0 and 9.</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;data</b>
<i>{0,1,2,3,4,5,6,7,8,9}</i></p>

<p style="margin-left:22%;">Enable or disable the ZLIB
stream compression. The value must be between 0 and 9.</p>


<p style="margin-left:11%;"><b>&minus;&minus;nx&minus;delta</b>
<i>{0,1}</i></p>

<p style="margin-left:22%;">Enable X differential
compression.</p>


<p style="margin-left:11%;"><b>&minus;&minus;waypipe</b></p>

<p style="margin-left:22%;">Use &lsquo;waypipe&lsquo;
instead &lsquo;nx&lsquo;. (Default: False)</p>


<p style="margin-left:11%;"><b>&minus;&minus;wp&minus;compress</b>
<i>WP_COMPRESS</i></p>

<p style="margin-left:22%;">Select the compression method
applied to data transfers. Options are none (for
high&minus;bandwidth networks), lz4 (intermediate), zstd
(slow connection). The default compression is none. The
compression level can be chosen by appending = followed by a
number. For example, if C is zstd=7, waypipe will use level
7 Zstd compression.</p>


<p style="margin-left:11%;"><b>&minus;&minus;wp&minus;threads</b>
<i>WP_THREADS</i></p>

<p style="margin-left:22%;">Set the number of total threads
(including the main thread) which a waypipe instance will
create. These threads will be used to parallelize
compression operations. This flag is passed on to waypipe
server when given to waypipe ssh. The flag also controls the
thread count for waypipe bench. The default behavior
(choosable by setting T to 0) is to use half as many threads
as the computer has hardware threads available.</p>


<p style="margin-left:11%;"><b>&minus;&minus;wp&minus;video</b>
<i>WP_VIDEO</i></p>

<p style="margin-left:22%;">Compress specific DMABUF
formats using a lossy video codec. Opaque, 10&minus;bit, and
multiplanar formats, among others, are not supported. V is a
comma separated list of options to control the video
encoding. Using the &minus;&minus;video flag without setting
any options is equivalent to using the default setting of:
&minus;&minus;video=sw,bpf=120000,h264. Later options
supersede earlier ones (see &lsquo;man waypipe&lsquo; for
more options).</p>

<h2>COMMAND &rsquo;tower.py status&rsquo;
<a name="COMMAND &rsquo;tower.py status&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
status [&minus;h] [&minus;&minus;host HOST]</p>

<h2>OPTIONS &rsquo;tower.py status&rsquo;
<a name="OPTIONS &rsquo;tower.py status&rsquo;"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;host</b>
<i>HOST</i></p>

<p style="margin-left:22%;">Host name</p>

<h2>COMMAND &rsquo;tower.py wlan&minus;connect&rsquo;
<a name="COMMAND &rsquo;tower.py wlan&minus;connect&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
wlan&minus;connect [&minus;h] &minus;&minus;ssid SSID
&minus;&minus;password PASSWORD</p>

<h2>OPTIONS &rsquo;tower.py wlan&minus;connect&rsquo;
<a name="OPTIONS &rsquo;tower.py wlan&minus;connect&rsquo;"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;ssid</b>
<i>SSID</i></p>

<p style="margin-left:22%;">WiFi SSID</p>

<p style="margin-left:11%;"><b>&minus;&minus;password</b>
<i>PASSWORD</i></p>

<p style="margin-left:22%;">WiFi password</p>

<h2>COMMAND &rsquo;tower.py version&rsquo;
<a name="COMMAND &rsquo;tower.py version&rsquo;"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">usage: tower.py
version [&minus;h]</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>&minus;&minus;quiet</b></p>

<p style="margin-left:22%;">Set log level to ERROR.</p>


<p style="margin-left:11%;"><b>&minus;&minus;verbose</b></p>

<p style="margin-left:22%;">Set log level to DEBUG.</p>
<hr>
</body>
</html>
